!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("prop-types"),require("react"),require("react-dom")):"function"==typeof define&&define.amd?define("ReactPreactModal",["prop-types","react","react-dom"],t):"object"==typeof exports?exports.ReactPreactModal=t(require("prop-types"),require("react"),require("react-dom")):e.ReactPreactModal=t(e[void 0],e.React,e.ReactDOM)}(this,function(e,t,n){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=2)}([function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"PORTAL_CLASSNAME",function(){return h});var u=n(1),c=n.n(u),s=n(3),l=n(6),a=n.n(l),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=a()("react-preact-modal"),h=f("portal"),m={top:n(0).number,left:n(0).number,right:n(0).number,bottom:n(0).number};"undefined"!=typeof exports&&Object.defineProperty(exports,"babelPluginFlowReactPropTypes_proptype_PopupPosition",{value:m,configurable:!0,enumerable:!0});var d=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={contentVisible:!1,afterOpen:!1,beforeClose:!1},n}return i(t,e),p(t,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentWillReceiveProps",value:function(e){e.isOpen!==this.props.isOpen&&(e.isOpen?this.open():this.close())}},{key:"open",value:function(){var e=this;this.closeTimer&&(clearTimeout(this.closeTimer),this.cleanUp()),this.setState({contentVisible:!0},function(){e.setState({afterOpen:!0})})}},{key:"close",value:function(){var e=this.props.closeTimeoutMS;this.setState({beforeClose:!0}),e?this.closeTimer=setTimeout(this.cleanUp.bind(this),e):this.cleanUp()}},{key:"cleanUp",value:function(){this.setState({contentVisible:!1,afterOpen:!1,beforeClose:!1})}},{key:"render",value:function(){var e=this.state,t=e.contentVisible,n=e.afterOpen,r=e.beforeClose,o=this.props,i=o.children,u=o.theme,l=void 0===u?"normal":u,a=o.size,p=void 0===a?"m":a,m=o.className,d=o.position,y=f({theme:l,size:p,"after-open":n,"before-close":r})+(m?" "+m:"");return t?c.a.createElement(s.a,{className:h},c.a.createElement("div",{className:y,style:d},i)):null}}]),t}(u.Component);d.propTypes={children:n(0).string.isRequired,theme:n(0).oneOf(["normal"]),size:n(0).oneOf(["m"]),className:n(0).string,isOpen:n(0).bool.isRequired,position:"function"==typeof PopupPosition?n(0).instanceOf(PopupPosition):n(0).any,closeTimeoutMS:n(0).number},t.default=d},function(e,t,n){"use strict";(function(e){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=n(1),c=n.n(u),s=n(5),l=(n.n(s),n(0)),a=n.n(l),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f="preact"===e.env.REACT_ENV,h=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),p(t,[{key:"componentDidUpdate",value:function(e){for(var t in e)if(e[t]!==this.props[t])return this.renderLayer()}},{key:"componentDidMount",value:function(){var e=this.props.className;this.into=document.createElement("div"),e&&this.into.classList.add(e),document.body.appendChild(this.into),this.renderLayer()}},{key:"componentWillUnmount",value:function(){this.renderLayer(!1),this.remote&&this.remote.parentNode&&this.remote.parentNode.removeChild(this.remote),this.into&&document.body.removeChild(this.into)}},{key:"renderLayer",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.remote=Object(s.render)(c.a.createElement(m,{context:this.context},e&&this.props.children||null),this.into,f?this.remote:function(){})}},{key:"render",value:function(){return null}}]),t}(u.Component);h.propTypes={className:n(0).string},t.a=h;var m=function(e){function t(){var e,n,i,u;r(this,t);for(var c=arguments.length,s=Array(c),l=0;l<c;l++)s[l]=arguments[l];return n=i=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),i.getChildContext=function(){return i.props.context},u=n,o(i,u)}return i(t,e),p(t,[{key:"render",value:function(){var e=null;return this.props.children&&(e=this.props.children),this.props.children&&this.props.children[0]&&(e=this.props.children[0]),e}}]),t}(u.Component);m.childContextTypes={context:a.a.any}}).call(t,n(4))},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(e){if(a===setTimeout)return setTimeout(e,0);if((a===n||!a)&&setTimeout)return a=setTimeout,setTimeout(e,0);try{return a(e,0)}catch(t){try{return a.call(null,e,0)}catch(t){return a.call(this,e,0)}}}function i(e){if(p===clearTimeout)return clearTimeout(e);if((p===r||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(e);try{return p(e)}catch(t){try{return p.call(null,e)}catch(t){return p.call(this,e)}}}function u(){d&&h&&(d=!1,h.length?m=h.concat(m):y=-1,m.length&&c())}function c(){if(!d){var e=o(u);d=!0;for(var t=m.length;t;){for(h=m,m=[];++y<t;)h&&h[y].run();y=-1,t=m.length}h=null,d=!1,i(e)}}function s(e,t){this.fun=e,this.array=t}function l(){}var a,p,f=e.exports={};!function(){try{a="function"==typeof setTimeout?setTimeout:n}catch(e){a=n}try{p="function"==typeof clearTimeout?clearTimeout:r}catch(e){p=r}}();var h,m=[],d=!1,y=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];m.push(new s(e,t)),1!==m.length||d||o(c)},s.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=l,f.addListener=l,f.once=l,f.off=l,f.removeListener=l,f.removeAllListeners=l,f.emit=l,f.prependListener=l,f.prependOnceListener=l,f.listeners=function(e){return[]},f.binding=function(e){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(e){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(e,t){e.exports=n},function(e,t){function n(e,t,n,r,o,u,c,s,l,a,p){if(p)throw new Error("Too many arguments");for(var f=[e||"",t||"",n||"",r||"",o||"",u||"",c||"",s||"",l||"",a||""],h="",l=0;l<10;l++){var m=f[l];""!==m&&(h+=" "+i+m)}return h}function r(e,t){this._name=e+(t?o+t:"")}var o="_",i="_";r.prototype.name=function(e,t,r,o,i,u,c,s,l,a){return this._name+n(e||null,t||null,r||null,o||null,i||null,u||null,c||null,s||null,l||null,a||null)},r.prototype.elem=function(e,t,r,o,i,u,c,s,l,a,p){return this._name+"__"+e+n(t||null,r||null,o||null,i||null,u||null,c||null,s||null,l||null,a||null,p||null)},e.exports=r}])});